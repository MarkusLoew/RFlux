\name{get_md}
\alias{get_md}
%- Also NEED an '\alias' for EACH other topic documented here.
\title{
Metadata file management
}
\description{
Returns the input files required by LI-COR EddyPro software.
}
\usage{
get_md(path_ecmd = NULL,
       path_rawdata = NULL,
       path_output = NULL,
       online,
       path_sa_file = NULL,
       path_pf_file = NULL)
}
%- maybe also 'usage' for other objects documented here.
\arguments{
  \item{path_ecmd}{
  path where the CC-Xxx_ecmd.csv file containing metadata information is stored.
}
  \item{path_rawdata}{
  path where eddy covariance rawdata files are stored. 
}
  \item{path_output}{
  path where the results of \code{\link{eddypro_run}} will be stored (it will be created, if any).
}
  \item{online}{
  logical. Indicating whether the parameters of the planar fit method and the spectral correction factors are taken from results of previous processing (online=TRUE) or estimated by using the current set of EC rawdata (online=FALSE).
}
  \item{path_sa_file}{
  path where the spectral assessment file generated by EddyPro software is stored.
}
  \item{path_pf_file}{
 path where the planar fit file generated by EddyPro software is stored.
}
}
\details{
This function builds the input files required by EddyPro software to process eddy covariance rawdata files. %%  ~~ If necessary, more details than the description above ~~
}
\value{
%%  ~Describe the value returned
Returns the following files
  \item{CC-Xxx.eddypro}{}
  \item{CC-Xxx.metadata}{}
  \item{CC-Xxx_dynamic_metadata.txt}{}
where CC-Xxx denoting the site's ID.
%% ...
}
\references{
LI-COR Biosciences: EddyPro 7.0.4: Help and User's Guide, LI-COR Biosciences, Lincoln, Nebraska USA, \url{www.licor.com/EddyPro}, 2019.
}
\author{
Domenico Vitale, Dario Papale
}
\note{
Rawdata must be provided as .csv file with the following name:
\emph{CC-Xxx????yyyymmddHHMM????.csv},
where \emph{CC-Xxx} is the site's ID, \emph{yyyymmddHHMM} is the ISO timestamp, and ?s  denoting free characters.
For example: DE-HoH_EC_201901010030_v01.csv.


%%  ~~further notes~~
}
\section{Warning }{If online=FALSE, the number of rawdata needs to be large enough to allow robust estimates of the planar fit parameters and of the spectral correction factors. In case of few rawdata, the double rotation method for wind tilt correction and the analytical method by Moncrieff et al (1997) for spectral correction will be performed.}

%% ~Make other sections like Warning with \section{Warning }{....} ~

\seealso{
\code{\link{closed_path_rawdata}}
%% ~~objects to See Also as \code{\link{help}}, ~~~
}
\examples{
\dontrun{
workdir <- getwd()
siteID <- "DE-HoH"
PATH_ECMD <- system.file("extdata", "DE-HoH_ecmd.csv", package = "RFlux")
PATH_RAWDATA <- system.file("extdata", package = "RFlux")
PATH_OUTPUT <- paste0(workdir, "/eddypro/processing")
PATH_SA_FILE <- system.file("extdata", "spectral_assessment.txt", package = "RFlux")
PATH_PF_FILE <- system.file("extdata", "planar_fit.txt", package = "RFlux")

MD <- get_md(path_ecmd=PATH_ECMD,
             path_rawdata=PATH_RAWDATA,
             path_output=PATH_OUTPUT,
             online=TRUE,
             path_sa_file=PATH_SA_FILE,
             path_pf_file=PATH_PF_FILE)
             }
}
% Add one or more standard keywords, see file 'KEYWORDS' in the
% R documentation directory.
\keyword{file}% use one of  RShowDoc("KEYWORDS")
